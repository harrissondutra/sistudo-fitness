<mat-sidenav-container class="sidenav-container">
  <mat-sidenav
  #sidenav
  [mode]="(isHandset$ | async) ? 'over' : 'side'"
  [opened]="!(isHandset$ | async)">
  <app-sidenav (linkClicked)="onSidenavLinkClicked()"></app-sidenav>
</mat-sidenav>
  <mat-sidenav-content>
    <app-toolbar [sidenav]="sidenav"></app-toolbar>
    <main class="main-content">
      <!-- O conteúdo do dashboard será exibido somente na rota raiz -->
      <ng-container *ngIf="router.url === '/'">
        <div class="dashboard">


          <!-- Seção de Quantidades/Métricas -->
          <div class="dashboard-section metrics">
            <div class="cards-grid">
              <!-- Card 1: Total de Usuários (Ciano) - AGORA EXIBINDO DADOS REAIS -->
              <mat-card class="dashboard-card metric-card" style="--metric-card-background: #00BCD4; --card-icon-color: #ffffff;">
                <mat-card-content>
                  <mat-icon>group</mat-icon>
                  <div>
                    <h4>Total de Usuários</h4>
                    <p class="metric-value">{{ totalUsersCount }}</p> <!-- CORREÇÃO: Dados dinâmicos -->
                  </div>
                </mat-card-content>
              </mat-card>

              <!-- Card 2: Total de Treinos (Laranja) -->
              <mat-card class="dashboard-card metric-card" style="--metric-card-background: #FF9800; --card-icon-color: #ffffff;">
                <mat-card-content>
                  <mat-icon>assignment</mat-icon>
                  <div>
                    <h4>Total de Treinos</h4>
                    <p class="metric-value">{{ totalTrainingsCount }}</p>
                  </div>
                </mat-card-content>
              </mat-card>

              <!-- Card 3: Treinos Ativos (Verde) -->
              <mat-card class="dashboard-card metric-card" style="--metric-card-background: #4CAF50; --card-icon-color: #ffffff;">
                <mat-card-content>
                  <mat-icon>fitness_center</mat-icon>
                  <div>
                    <h4>Treinos Ativos</h4>
                    <p class="metric-value">{{totalTrainingsActiveCount}}</p> <!-- Dados de exemplo -->
                  </div>
                </mat-card-content>
              </mat-card>


            </div>
          </div>
          <!-- Seção de Atalhos Rápidos -->
          <div class="dashboard-section quick-links">
            <div class="cards-grid">
              <!-- Ícones dos Acessos Rápidos definidos como azuis -->
              <mat-card class="dashboard-card clickable-card" routerLink="/users-list" style="--card-icon-color: #3f51b5;">
                <mat-card-content>
                  <mat-icon>people</mat-icon>
                  <h4>Listar Usuários</h4>
                </mat-card-content>
              </mat-card>
              <mat-card class="dashboard-card clickable-card" routerLink="/register" style="--card-icon-color: #3f51b5;">
                <mat-card-content>
                  <mat-icon>person_add</mat-icon>
                  <h4>Criar Usuário</h4>
                </mat-card-content>
              </mat-card>
              <mat-card class="dashboard-card clickable-card" routerLink="/trainning" style="--card-icon-color: #3f51b5;">
                <mat-card-content>
                  <mat-icon>fitness_center</mat-icon>
                  <h4>Listar Treinos</h4>
                </mat-card-content>
              </mat-card>
              <mat-card class="dashboard-card clickable-card" routerLink="/trainning-create" style="--card-icon-color: #3f51b5;">
                <mat-card-content>
                  <mat-icon>add_box</mat-icon>
                  <h4>Criar Treino</h4>
                </mat-card-content>
              </mat-card>
            </div>
          </div>

        </div>
      </ng-container>
      <!-- O router-outlet renderizará o componente da rota ativa (ex: lista de usuários, edição de usuário) -->
      <router-outlet></router-outlet>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
