/* home.component.scss */

/* Garante que o sidenav-container ocupe toda a altura da viewport */
.sidenav-container {
  height: 100vh; /* altura total da tela */
  display: flex;
  flex-direction: column;
}

/* Opcional: estiliza o mat-sidenav para preencher verticalmente */
mat-sidenav {
  width: 280px; /* Largura padrão para desktop */
  background-color: var(--mat-sidenav-container-background-color, #f5f5f5);
  padding: 16px 0; /* Padding interno para o conteúdo da sidenav */
  border-right: 1px solid rgba(0, 0, 0, 0.05);
  box-sizing: border-box; /* Inclui padding e border na largura total */
}

mat-sidenav-content {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  background-color: var(--mat-sidenav-container-background-color, #fafafa);
}

/* Ajusta o conteúdo principal para ocupar o espaço restante */
.main-content {
  flex-grow: 1;
  padding: 24px; /* Padding para o conteúdo principal. Ajuste este valor se desejar menos espaço nas bordas e que o dashboard "preencha mais" a tela. */
  overflow-y: auto;
  width: 100%; /* Garante que ocupe 100% da largura disponível */
  min-height: calc(100vh - 64px); /* subtraindo a altura da toolbar (ex: 64px) */
  box-sizing: border-box; /* Inclui padding e border na altura total */
  background-color: #f5f5f5; /* cor de fundo clara */

  h2 {
    font-size: 2.2em;
    color: #3f51b5;
    margin-bottom: 16px;
    font-weight: 500;
  }

  p {
    font-size: 1.1em;
    color: #555;
    line-height: 1.6;
  }
}

/* Para garantir que o toolbar fique no topo e não sobreponha */
app-toolbar {
  position: sticky;
  top: 0;
  z-index: 10;
}

/* Estilos específicos do Dashboard */
.dashboard {
  padding: 20px;
  background-color: var(--mat-card-background-color, #fff);
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05); /* Sombra mais suave para o container do dashboard */
}

.dashboard h2 {
  font-size: 2.2em;
  color: #3f51b5;
  margin-bottom: 30px;
  text-align: center;
}

.dashboard-section {
  margin-bottom: 40px;
}

.dashboard-section h3 {
  font-size: 1.6em;
  color: #555;
  margin-bottom: 20px;
  border-bottom: 2px solid #e0e0e0;
  padding-bottom: 10px;
}

.cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Layout de grid responsivo */
  gap: 20px; /* Espaçamento entre os cartões */
  align-items: stretch; /* Garante que os itens da grade se estendam verticalmente para a altura da linha */
}

.dashboard-card {
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08); /* Sombra padrão para todos os cards do dashboard */
  padding: 20px;
  text-align: center;
  display: flex;
  flex-direction: column; /* Garante que o conteúdo dentro do card se organize em coluna */
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  min-height: 150px; /* CORREÇÃO: Adiciona uma altura mínima para os cards */


  mat-card-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center; /* Mantido para centralizar visualmente */
    gap: 10px;
    width: 100%;
    flex-grow: 1; /* CORREÇÃO: Permite que o conteúdo da mat-card-content ocupe o espaço restante dentro do card */
  }

  mat-icon {
    font-size: 48px;
    height: 48px;
    width: 48px;
    color: var(--card-icon-color, #616161); /* Default neutro, pode ser sobrescrito via --card-icon-color */
  }

  h4 {
    font-size: 1.2em;
    margin: 0;
    color: #333;
  }
}

.clickable-card {
  cursor: pointer;
  background-color: #ffffff; /* Fundo branco explícito para cards clicáveis */
  border: 1px solid #e0e0e0; /* Borda fina explícita para cards clicáveis */

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    border-color: #c0c0c0;
  }
}

.metric-card {
  background-color: var(--metric-card-background); /* Fundo colorido usando variável do HTML */
  border: none; /* Sem borda, como na imagem de referência */
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease-in-out;
  color: #ffffff; /* Texto branco para alto contraste */

  &:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  }

  .mat-card-content {
    flex-direction: row; /* Layout horizontal para ícone e texto */
    justify-content: center;
    gap: 15px;

    /* CORREÇÃO: Alvo o div que contém h4 e p dentro de mat-card-content para permitir crescimento vertical */
    div {
        flex-grow: 1; /* Permite que este div ocupe o espaço restante dentro da flex row */
        display: flex;
        flex-direction: column;
        align-items: flex-start; /* Alinha o texto à esquerda dentro da coluna */
        justify-content: center;
        text-align: left; /* Garante que o texto dentro seja alinhado à esquerda */
    }
  }

  mat-icon {
    font-size: 48px;
    height: 48px;
    width: 48px;
    color: var(--card-icon-color, #ffffff); /* Cor do ícone definida pela variável CSS, ou branco como fallback */
  }

  h4 {
    font-size: 1.1em;
    color: #ffffff; /* Título branco */
    font-weight: 500;
  }
  .metric-value {
    font-size: 1.8em;
    font-weight: 700;
    color: #ffffff; /* Valor branco */
    margin-top: 5px;
  }
}


/* ------------------------------------------------------------- */
/* MEDIA QUERIES PARA RESPONSIVIDADE                           */
/* ------------------------------------------------------------- */

@media screen and (max-width: 599px) {
  mat-sidenav {
    width: 80%;
    padding: 10px 0;
  }

  .main-content {
    padding: 16px;
  }

  .dashboard {
    padding: 15px;
  }

  .dashboard h2 {
    font-size: 1.8em;
    margin-bottom: 20px;
  }

  .dashboard-section h3 {
    font-size: 1.4em;
    margin-bottom: 15px;
  }

  .cards-grid {
    grid-template-columns: 1fr; /* Uma coluna em telas muito pequenas */
  }

  .dashboard-card {
    padding: 15px;
    min-height: 120px; /* Ajuste a altura mínima para telas menores */
    mat-icon {
      font-size: 40px;
      height: 40px;
      width: 40px;
    }
    h4 {
      font-size: 1.1em;
    }
    .metric-value {
      font-size: 1.5em;
    }
  }
}

@media screen and (min-width: 600px) and (max-width: 959px) {
  mat-sidenav {
    width: 250px;
  }

  .main-content {
    padding: 20px;
  }

  .dashboard {
    padding: 20px;
  }

  .cards-grid {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Ajuste para tablets */
  }
}

@media screen and (min-width: 960px) {
  mat-sidenav {
    width: 280px;
  }

  .main-content {
    padding: 24px;
  }
}
@media screen and (min-width: 1280px) {
  mat-sidenav {
    width: 320px; /* Largura maior para telas grandes */
  }

  .main-content {
    padding: 32px;
  }

  .dashboard h2 {
    font-size: 2.4em;
  }

  .dashboard-section h3 {
    font-size: 1.8em;
  }

  .cards-grid {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Mais espaço para cards em telas grandes */
  }
}
