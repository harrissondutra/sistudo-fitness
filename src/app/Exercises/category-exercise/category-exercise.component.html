<!-- Main Container for Category Form -->
<div class="category-form-container">
  <!-- Header Section -->
  <div class="header">
    <mat-icon>category</mat-icon> <!-- Icon for category -->
    <h1>Criar Nova Categoria</h1> <!-- Title for the form -->
  </div>

  <!-- Category Form -->
  <!-- The form is bound to a FormGroup named 'categoryForm' in the TypeScript file -->
  <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()" class="form-content">
    <!-- Form Field for Category Name -->
    <mat-form-field appearance="outline">
      <mat-label>Nome da Categoria</mat-label>
      <input matInput formControlName="name" placeholder="Ex: Treino de Força">
      <!-- Validation messages for the 'name' field -->
      @if (categoryForm.get('name')?.hasError('required') && categoryForm.get('name')?.touched) {
        <mat-error>
          O nome da categoria é obrigatório.
        </mat-error>
      }
      @if (categoryForm.get('name')?.hasError('minlength') && categoryForm.get('name')?.touched) {
        <mat-error>
          O nome deve ter no mínimo 3 caracteres.
        </mat-error>
      }
    </mat-form-field>

    <!-- Form Field for Category Description (Optional) -->
    <mat-form-field appearance="outline">
      <mat-label>Descrição da Categoria</mat-label>
      <textarea matInput formControlName="description" placeholder="Ex: Categoriza exercícios focados em ganho de massa e força." rows="3"></textarea>
      <!-- Description is optional, so no direct validators here on HTML side -->
    </mat-form-field>

    <!-- Action Buttons for the Form -->
    <div class="form-actions">
      <!-- Cancel Button: Navigates back, assuming a 'cancel()' method in TS -->
      <button mat-button type="button" (click)="cancel()">
        <mat-icon>arrow_back</mat-icon>
        Cancelar
      </button>
      <!-- Submit Button: Triggers onSubmit, disabled if form is invalid -->
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="categoryForm.invalid"
        matTooltip="{{ categoryForm.invalid ? 'Preencha todos os campos obrigatórios e válidos' : 'Salvar categoria' }}"
        >
        <mat-icon>save</mat-icon>
        Salvar Categoria
      </button>
    </div>
  </form>
</div>
