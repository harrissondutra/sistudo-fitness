<div class="registration-container">
  <div class="header">
    <div class="title-section">
      <h2>Cadastro de Personal Trainer</h2>
      <p class="subtitle">Preencha os dados para criar um novo Personal Trainer</p>
    </div>
  </div>

  <form [formGroup]="personalForm" (ngSubmit)="onSubmit()">
    <mat-card class="form-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>fitness_center</mat-icon>
          Dados do Profissional
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="form-section">
          <!-- Nome -->
          <mat-form-field appearance="outline" class="full-width-input">
            <mat-label>Nome Completo</mat-label>
            <input matInput type="text" formControlName="name" placeholder="Ex: João da Silva" />
            <mat-icon matSuffix>person</mat-icon>
            <mat-error *ngIf="personalForm.get('name')?.invalid && personalForm.get('name')?.touched">
              Nome é obrigatório.
            </mat-error>
          </mat-form-field>

          <!-- Email -->
          <mat-form-field appearance="outline" class="full-width-input">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" placeholder="Ex: joao.silva@example.com" />
            <mat-icon matSuffix>email</mat-icon>
            <mat-error *ngIf="personalForm.get('email')?.invalid && personalForm.get('email')?.touched">
              <span *ngIf="personalForm.get('email')?.errors?.['required']">Email é obrigatório.</span>
              <span *ngIf="personalForm.get('email')?.errors?.['email']">Email inválido.</span>
            </mat-error>
          </mat-form-field>

          <!-- Telefone -->
          <mat-form-field appearance="outline" class="full-width-input">
            <mat-label>Telefone</mat-label>
            <!-- No arquivo HTML -->
            <input matInput type="text" formControlName="phone" mask="(00) 00000-0000" [dropSpecialCharacters]="true"
              placeholder="(00) 00000-0000" />
            <mat-icon matSuffix>phone</mat-icon>
            <mat-error *ngIf="personalForm.get('phone')?.invalid && personalForm.get('phone')?.touched">
              <span *ngIf="personalForm.get('phone')?.errors?.['required']">Telefone é obrigatório.</span>
              <span *ngIf="personalForm.get('phone')?.errors?.['pattern']">Formato de telefone inválido.</span>
            </mat-error>
          </mat-form-field>

          <!-- Especialidade -->
          <mat-form-field appearance="outline" class="full-width-input">
            <mat-label>Especialidade</mat-label>
            <mat-select formControlName="specialty">
              <mat-option *ngFor="let especialidade of especialidades" [value]="especialidade.value">
                {{ especialidade.viewValue }}
              </mat-option>
            </mat-select>
            <mat-icon matSuffix>sports</mat-icon>
            <mat-error *ngIf="personalForm.get('specialty')?.invalid && personalForm.get('specialty')?.touched">
              Especialidade é obrigatória.
            </mat-error>
          </mat-form-field>

          <!-- Registro CREF -->
          <mat-form-field appearance="outline" class="full-width-input">
            <mat-label>Registro CREF</mat-label>
            <input matInput type="text" formControlName="registry" mask="000000-0/00" [dropSpecialCharacters]="false"
              placeholder="Ex: 123456-1/22" />
            <mat-icon matSuffix>card_membership</mat-icon>
            <mat-hint>Formato: 000000-X/XX</mat-hint>
            <mat-error *ngIf="personalForm.get('registry')?.invalid && personalForm.get('registry')?.touched">
              <span *ngIf="personalForm.get('registry')?.errors?.['required']">Registro CREF é obrigatório.</span>
              <span *ngIf="personalForm.get('registry')?.errors?.['pattern']">Formato inválido. Use: 000000-X/XX</span>
            </mat-error>
          </mat-form-field>
        </div>
      </mat-card-content>
    </mat-card>

    <div class="form-actions">
      <button mat-button type="button" (click)="goBack()">
        <mat-icon>arrow_back</mat-icon>
        <span>Voltar</span>
      </button>
      <button mat-raised-button color="primary" type="submit" [disabled]="personalForm.invalid">
        <mat-icon>save</mat-icon>
        <span>Cadastrar</span>
      </button>
    </div>
  </form>
</div>
