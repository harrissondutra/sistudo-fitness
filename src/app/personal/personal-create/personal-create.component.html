<div class="personal-update-container">
  <div class="header">
    <div class="title-section">
      <h2>Novo Personal Trainer</h2>
      <p class="subtitle">Cadastre um novo personal trainer no sistema</p>
    </div>
  </div>

  <form [formGroup]="personalForm" (ngSubmit)="onSubmit()" class="personal-form mat-elevation-z2">
    <ion-list>
      <ion-item class="form-item">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Nome Completo</mat-label>
          <input matInput formControlName="name" placeholder="Nome do personal trainer" required>
          @if (personalForm.get('name')?.hasError('required') && personalForm.get('name')?.touched) {
          <mat-error>O nome é obrigatório.</mat-error>
          }
        </mat-form-field>
      </ion-item>

      <ion-item class="form-item">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>E-mail</mat-label>
          <input matInput type="email" formControlName="email" placeholder="email@exemplo.com" required email>
          @if (personalForm.get('email')?.hasError('required') && personalForm.get('email')?.touched) {
          <mat-error>O e-mail é obrigatório.</mat-error>
          }
          @if (personalForm.get('email')?.hasError('email') && personalForm.get('email')?.touched) {
          <mat-error>Por favor, insira um e-mail válido.</mat-error>
          }
        </mat-form-field>
      </ion-item>

      <ion-item class="form-item">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Telefone</mat-label>
          <input matInput formControlName="phone" placeholder="(XX) XXXXX-XXXX">
        </mat-form-field>
      </ion-item>

      <ion-item class="form-item">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Especialidade</mat-label>
          <mat-select formControlName="specialty" required>
            @for (especialidade of especialidades; track especialidade.value) {
              <mat-option [value]="especialidade.value">
                {{ especialidade.viewValue }}
              </mat-option>
            }
          </mat-select>
          <mat-hint>Selecione a especialidade do personal trainer</mat-hint>
          <mat-error *ngIf="personalForm.get('specialty')?.hasError('required')">
            A especialidade é obrigatória
          </mat-error>
        </mat-form-field>
      </ion-item>

      <ion-item class="form-item">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Registro Profissional</mat-label>
          <input matInput formControlName="registry" placeholder="Ex: CREF 12345-G/SP">
          <mat-hint>Informe o registro profissional do personal trainer</mat-hint>
          <mat-error *ngIf="personalForm.get('registry')?.hasError('required')">
            O registro profissional é obrigatório
          </mat-error>
        </mat-form-field>
      </ion-item>
    </ion-list>

    <div class="form-actions">
      <button mat-raised-button color="warn" type="button" (click)="onCancel()">
        <mat-icon>cancel</mat-icon>
        <span>Cancelar</span>
      </button>
      <button mat-raised-button color="primary" type="submit" [disabled]="personalForm.invalid">
        <mat-icon>save</mat-icon>
        <span>Cadastrar Personal Trainer</span>
      </button>
    </div>
  </form>
</div>
